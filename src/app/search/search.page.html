<ion-header>
  <app-topbar [showsAppName]="false" [insertableTitle]="['Pesquisar']" [showsBackButton]="true"></app-topbar>
</ion-header>

<ion-content>
  <div class="search-header-container">
    <ion-item lines="none" class="remove-bg">
      <div class="searching" slot="start" *ngIf="userIsTyping">
        <ion-spinner name="crescent" color="light"></ion-spinner>
      </div>
      <ion-icon name="ios-checkmark" color="light" slot="start" *ngIf="!userIsTyping"></ion-icon>
      <ion-label class="search-header-white">{{ resultHeader}}</ion-label>
    </ion-item>
    <ion-item lines="none" *ngIf="canDisplaySecHeader" class="ion-text-center">
      <ion-label class="search-header-black"><span class="search-secondary-header">{{ outputHeader }}</span></ion-label>
    </ion-item>
  </div>

  <ion-list>
    <ion-card *ngFor="let index of receivedItems">
      <!-- title -->
      <ion-item class="list-header-title-background" [class.background-high-hierarchy]="index.tree.length == 1"
        [lines]="(index.tree.length == 1) ? 'none' : 'inset'" [routerLink]="['/component', addBrackets(index.tree)]">
        <ion-icon [color]="(index.tree.length == 1) ? 'light' : 'primary'" name="md-arrow-round-forward"
          [slot]="(index.tree.length == 1) ? 'start' : 'end'"></ion-icon>
        <ion-label [class]="(index.tree.length == 1) ? 'title-high-hierarchy' : 'list-header-title'">{{ index.title }}
        </ion-label>
      </ion-item>
      <!-- hierarchy list -->
      <ion-item *ngIf="index.tree.length != 1">
        <ion-icon name="md-git-network" slot="end"></ion-icon>
        <ion-label class="hierachy-horizontal-list">{{ index.tree.join(' / ') }}</ion-label>
      </ion-item>
      <ion-card-content>
        <ion-label>{{ index.descpt }}</ion-label>
      </ion-card-content>
    </ion-card>
  </ion-list>

</ion-content>
<ion-footer *ngIf="userIsTyping">
  <ion-progress-bar color="primary" type="indeterminate"></ion-progress-bar>
</ion-footer>